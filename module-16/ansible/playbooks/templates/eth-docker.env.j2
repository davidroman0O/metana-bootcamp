# eth-docker configuration for {{ network }} network
# Generated by Ansible

# Network configuration
NETWORK={{ network }}
DOMAIN=consensus
COMPOSE_FILE=docker-compose.yml

# Execution client - {{ execution_client | default('nethermind') }}
EL_NODE={{ execution_client | default('nethermind') }}
EL_NETWORK={{ network }}
{% if execution_client == 'besu' %}
BESU_DOCKER_TAG={{ besu_docker_tag | default('latest') }}
{% else %}
NETHERMIND_DOCKER_TAG={{ nethermind_docker_tag | default('latest') }}
{% endif %}

# Consensus client - {{ consensus_client }}
CL_NODE={{ consensus_client }}
CL_NETWORK={{ network }}
TEKU_DOCKER_TAG={{ teku_docker_tag | default('latest') }}

# Ports
GRAFANA_PORT=3000
PROMETHEUS_PORT=9090
EL_P2P_PORT=30303
CL_P2P_PORT=9000

# Features
MEV_BOOST=false
GRAFANA_ENABLED={{ enable_monitoring | lower }}
PROMETHEUS_ENABLED={{ enable_monitoring | lower }}

# Grafana settings
{% if enable_monitoring %}
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD={{ grafana_admin_password }}
{% endif %}

# JWT secret (generated separately)
JWT_SECRET_FILE=./jwt/jwt.hex

# Validator settings
GRAFFITI={{ validator_graffiti | default('Hoodi Validator') }}
VALIDATOR_FEE_RECIPIENT=0x{{ validator_fee_recipient | default('0000000000000000000000000000000000000000') }}

# Performance
{% if execution_client == 'besu' %}
BESU_HEAP={{ besu_heap | default('4g') }}
{% endif %}
TEKU_HEAP={{ teku_heap | default('6g') }}

# Logs
LOG_LEVEL=INFO

# Data directories
{% if execution_client == 'besu' %}
BESU_DATA_DIR={{ data_volume_path }}/execution
{% else %}
NETHERMIND_DATA_DIR={{ data_volume_path }}/execution
{% endif %}
TEKU_DATA_DIR={{ data_volume_path }}/teku

# Checkpoint sync (speeds up initial sync)
CHECKPOINT_SYNC_URL={{ checkpoint_sync_url | default('https://checkpoint-sync.hoodi.ethpandaops.io') }}